(()=>{"use strict";var t,e={5743:(t,e,o)=>{const n=window.wp.apiFetch;var r=o.n(n);const i=window.wp.i18n;({init(){const{commentId:t,confirmationMessage:e,promptMessage:o,promptToFollowAgain:n,nonce:r}=window.ccData;if(t&&e){if(this.commentId=t,this.confirmationMessage=e,this.promptMessage=o,this.actionNonce=r,n)return this.promptToFollowCommentAgain();this.displaySuccessAlert(e)}},promptToFollowCommentAgain(){const t=document.createElement("div");t.classList.add("ccvtr-alert","ccvtr-alert-prompt"),t.innerHTML=`\n\t\t\t\t<div>\n\t\t\t\t\t${this.promptMessage}\n\t\t\t\t</div>\n\t\t\t\t<div class="ccvtr-buttons">\n\t\t\t\t\t<button id="yesBtn" class="ccvtr-primary-btn">\n\t\t\t\t\t\t${(0,i.__)("Yes","subscribe-to-comment-notifications-comment-converter")}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id="noBtn" class="ccvtr-secondary-btn">\n\t\t\t\t\t\t${(0,i.__)("No","subscribe-to-comment-notifications-comment-converter")}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t`;const e=t.querySelector("#yesBtn"),o=t.querySelector("#noBtn");e.addEventListener("click",this.handleCreateFollow.bind(this)),o.addEventListener("click",this.handleClose.bind(this)),this.writeToPage(t)},displaySuccessAlert(t){this.displayAlert(t,"success")},displayErrorAlert(t){this.displayAlert(t,"error")},displayAlert(t,e){const o=document.createElement("div");o.classList.add("ccvtr-alert",`ccvtr-alert-${e}`),o.innerHTML=t,this.writeToPage(o)},async handleCreateFollow(){try{await function(t){const{path:e,method:o,body:n,useBody:i=!1,...s}=t,c={};return i?c.body=n:c.data=n,r()({path:`ccvtr/${e}`,method:o||"GET",...s,...c})}({path:"v1/comment-follows",method:"POST",body:{comment_id:this.commentId,nonce:this.actionNonce}}).then((t=>{if(t.error)throw new Error(t.error);return t})),this.displaySuccessAlert(this.confirmationMessage)}catch(t){this.displayErrorAlert(t.message)}},handleClose(){this.outputEl.remove()},writeToPage(t){if(this.commentContentEl||(this.commentContentEl=document.querySelector(`#comment-${this.commentId} .comment-content, #comment-${this.commentId} .wp-block-comment-content`)),this.commentContentEl)return this.outputEl?void this.outputEl.replaceChild(t,this.outputEl.firstChild):(this.outputEl=document.createElement("div"),this.outputEl.classList.add("ccvtr-output"),this.outputEl.appendChild(t),void this.commentContentEl.appendChild(this.outputEl))}}).init()}},o={};function n(t){var r=o[t];if(void 0!==r)return r.exports;var i=o[t]={exports:{}};return e[t](i,i.exports,n),i.exports}n.m=e,t=[],n.O=(e,o,r,i)=>{if(!o){var s=1/0;for(m=0;m<t.length;m++){for(var[o,r,i]=t[m],c=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(n.O).every((t=>n.O[t](o[a])))?o.splice(a--,1):(c=!1,i<s&&(s=i));if(c){t.splice(m--,1);var l=r();void 0!==l&&(e=l)}}return e}i=i||0;for(var m=t.length;m>0&&t[m-1][2]>i;m--)t[m]=t[m-1];t[m]=[o,r,i]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={93:0,913:0};n.O.j=e=>0===t[e];var e=(e,o)=>{var r,i,[s,c,a]=o,l=0;if(s.some((e=>0!==t[e]))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(a)var m=a(n)}for(e&&e(o);l<s.length;l++)i=s[l],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(m)},o=globalThis.webpackChunksubscribe_to_comment_notifications_comment_converter=globalThis.webpackChunksubscribe_to_comment_notifications_comment_converter||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var r=n.O(void 0,[913],(()=>n(5743)));r=n.O(r)})();